<form  [formGroup]="form" (ngSubmit)="submit()">
  <div class="grid">
    <div class="col-12 pb-0">
        <div class="flex align-items-center justify-content-between mb-2">
            <div class="title">
                <h3 class="color-04">Add BroadCast</h3>
            </div>
            <div class="btn-top">
                <button pButton label="Go to List" type="button" icon="pi pi-arrow-left"
                    class="p-button-info border5" (click)="cancel()"></button>
            </div>
        </div>
    </div>
    <!-- <h3 class="color-04">Add BroadCast</h3>
    <div class="grid"> -->
        <div class="col-12 md:col-8">
            <mat-card class="md:px-5">
                <div class="field">
                    <mat-form-field appearance="" class="w-full">
                        <mat-label>Title</mat-label>
                        <input matInput formControlName="title" maxlength="50">
                        <mat-error id="name-help" class="block text-danger"
                        *ngIf="(form?.controls?.title?.touched && form?.controls?.title?.errors?.required)">Title is
                        required</mat-error>
                    </mat-form-field>
                </div>
                <div class="field">
                    <mat-form-field appearance="" class="w-full">
                        <mat-label>Message</mat-label>
                        <input matInput formControlName="message" maxlength="500">
                        <mat-error id="name-help" class="block text-danger"
                        *ngIf="(form?.controls?.message?.touched && form?.controls?.message?.errors?.required)">Message is
                        required</mat-error>
                    </mat-form-field>
                </div>
                <!-- <div class="field" *ngIf="data.stateId === true">
                  <mat-form-field class="w-full">
                    <mat-label>State</mat-label>
                    <mat-select formControlName="stateId">
                      <mat-option *ngFor="let stateList of stateList" [value]="stateList.id">
                        {{stateList.name}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  </div> -->  
                <div class="field" *ngIf="data.adminId === true">
                  <mat-form-field class="w-full">
                    <mat-label>Administration</mat-label>
                    <mat-select formControlName="adminId">
                      <mat-option *ngFor="let adminList of adminList" [value]="adminList.id" (click)="getZoneList(adminList.id)">
                        {{adminList.name}}
                      </mat-option>
                    </mat-select>
                    <mat-error id="name-help" class="block text-danger"
                        *ngIf="(form?.controls?.adminId?.touched && form?.controls?.adminId?.errors?.required)">Administration is
                        required</mat-error>
                  </mat-form-field>
                  </div>
  
                      <div class="field"  *ngIf="data.zoneId === true">
                          <mat-form-field class="w-full">
                            <mat-label>Zone</mat-label>
                            <mat-select formControlName="zoneId" >
                              <mat-option *ngFor="let zoneList of zoneList" [value]="zoneList.id" (click)="getRangeList(zoneList.id)">
                                {{zoneList.name}}
                              </mat-option>
                            </mat-select>
                            <mat-error id="name-help" class="block text-danger"
                        *ngIf="(form?.controls?.zoneId?.touched && form?.controls?.zoneId?.errors?.required)">Zone is
                        required</mat-error>
                          </mat-form-field>
                          </div>
  
                          <div class="field"  *ngIf="data.rangeId === true">
                              <mat-form-field class="w-full">
                                <mat-label>Range</mat-label>
                                <mat-select formControlName="rangeId">
                                  <mat-option *ngFor="let rangeList of rangeList" [value]="rangeList.id" (click)="getDistrictList(rangeList.id)">
                                    {{rangeList.name}}
                                  </mat-option>
                                </mat-select>
                                <mat-error id="name-help" class="block text-danger"
                        *ngIf="(form?.controls?.rangeId?.touched && form?.controls?.rangeId?.errors?.required)">Range is
                        required</mat-error>
                              </mat-form-field>
                              </div>
          
                              <div class="field"  *ngIf="data.districtId === true">
                                  <mat-form-field class="w-full">
                                         <mat-label>District</mat-label>
                                    <mat-select formControlName="districtId">
                                      <mat-option *ngFor="let districtList of districtList" [value]="districtList.id" (click)="getSubDivision(districtList.id)">
                                        {{districtList.name}}
                                      </mat-option>
                                    </mat-select>
                                    <mat-error id="name-help" class="block text-danger"
                        *ngIf="(form?.controls?.districtId?.touched && form?.controls?.districtId?.errors?.required)">District is
                        required</mat-error>
                                  </mat-form-field>
                         </div>
                  
                         <div class="field"  *ngIf="data.subDivisionId === true">
                            <mat-form-field class="w-full">
                                  <mat-label>SubDivision</mat-label>
                              <mat-select formControlName="subDivisionId">
                                <mat-option *ngFor="let subDivisionList of subDivisionList" [value]="subDivisionList.id" (click)="getPoliceStaion(subDivisionList.id)">
                                  {{subDivisionList.name}}
                                </mat-option>
                              </mat-select>
                              <mat-error id="name-help" class="block text-danger"
                        *ngIf="(form?.controls?.subDivisionId?.touched && form?.controls?.subDivisionId?.errors?.required)">SubDivision is
                        required</mat-error>
                            </mat-form-field>
                 </div>
                 <div class="field"  *ngIf="data.policeStationId === true">
                  <mat-form-field class="w-full">
                         <mat-label>Police Station</mat-label>
                    <mat-select formControlName="policeStationId">
                      <mat-option *ngFor="let policeStationList of policeStationList" [value]="policeStationList.id">
                        {{policeStationList.name}}
                      </mat-option>
                    </mat-select>
                    <mat-error id="name-help" class="block text-danger"
                        *ngIf="(form?.controls?.policeStationId?.touched && form?.controls?.policeStationId?.errors?.required)">Police Station is
                        required</mat-error>
                  </mat-form-field>
         </div>
                <!-- <div class="custom-card" style="display: flex;justify-content: space-around;">
                    <div class="card-selection">
                        <label style="display: flex;justify-content: center;margin-top: 15px;">Add Voice Note</label>
                        <div style="margin-top:5px;padding-left: 20px;">
                            <svg width="40" height="40" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="28" cy="28" r="28" fill="#F89581"/>
                                <mask id="mask0_0_1" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="16" y="16" width="24" height="24">
                                <rect x="16" y="16" width="24" height="24" fill="#D9D9D9"/>
                                </mask>
                                <g mask="url(#mask0_0_1)">
                                <path d="M21 26L20.05 23.95L18 23L20.05 22.05L21 20L21.95 22.05L24 23L21.95 23.95L21 26ZM34 23L33.375 21.625L32 21L33.375 20.375L34 19L34.625 20.375L36 21L34.625 21.625L34 23ZM36 27L35.375 25.625L34 25L35.375 24.375L36 23L36.625 24.375L38 25L36.625 25.625L36 27ZM28 31C27.1667 31 26.4583 30.7083 25.875 30.125C25.2917 29.5417 25 28.8333 25 28V22C25 21.1667 25.2917 20.4583 25.875 19.875C26.4583 19.2917 27.1667 19 28 19C28.8333 19 29.5417 19.2917 30.125 19.875C30.7083 20.4583 31 21.1667 31 22V28C31 28.8333 30.7083 29.5417 30.125 30.125C29.5417 30.7083 28.8333 31 28 31ZM27 38V34.925C25.2667 34.6917 23.8333 33.9167 22.7 32.6C21.5667 31.2833 21 29.75 21 28H23C23 29.3833 23.4875 30.5625 24.4625 31.5375C25.4375 32.5125 26.6167 33 28 33C29.3833 33 30.5625 32.5125 31.5375 31.5375C32.5125 30.5625 33 29.3833 33 28H35C35 29.75 34.4333 31.2833 33.3 32.6C32.1667 33.9167 30.7333 34.6917 29 34.925V38H27ZM28 29C28.2833 29 28.5208 28.9042 28.7125 28.7125C28.9042 28.5208 29 28.2833 29 28V22C29 21.7167 28.9042 21.4792 28.7125 21.2875C28.5208 21.0958 28.2833 21 28 21C27.7167 21 27.4792 21.0958 27.2875 21.2875C27.0958 21.4792 27 21.7167 27 22V28C27 28.2833 27.0958 28.5208 27.2875 28.7125C27.4792 28.9042 27.7167 29 28 29Z" fill="#1C1B1F"/>
                                </g>
                                </svg>
                                
                        </div>
                    </div>
                    </div> -->
              <div class="card" *ngFor="let card of documentfiles; let i = index" style="display: flex;justify-content: space-around;margin-top: 30px;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                <div class="card-selection" >
                    <label style="display: flex;justify-content: center;margin-top: 15px;">Upload File</label>
                    <div  style="margin-top:5px;display: flex;padding-left: 20px;padding-right: 20px;align-items: center;">
                          <div (click)="triggerFileInput.click()" style="cursor: pointer;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="39" height="39" viewBox="0 0 39 39" fill="none">
                              <circle cx="19.5" cy="19.5" r="19.5" fill="#33DD6D" />
                              <mask id="mask0_743_551" style="mask-type: alpha" maskUnits="userSpaceOnUse" x="8" y="8" width="23" height="23">
                                <rect x="8.28156" y="8.28162" width="22.4457" height="22.4457" fill="#D9D9D9" />
                              </mask>
                              <g mask="url(#mask0_743_551)">
                                <path
                                  d="M18.5692 24.1806H20.4397V20.2527L21.936 21.749L23.2454 20.4397L19.5044 16.6988L15.7635 20.4397L17.0728 21.749L18.5692 20.2527V24.1806ZM12.0225 26.9864C11.5082 26.9864 11.0678 26.8032 10.7015 26.4369C10.3352 26.0706 10.1521 25.6303 10.1521 25.1159V13.8931C10.1521 13.3787 10.3352 12.9383 10.7015 12.572C11.0678 12.2057 11.5082 12.0226 12.0225 12.0226H17.634L19.5044 13.8931H26.9863C27.5007 13.8931 27.941 14.0762 28.3073 14.4425C28.6736 14.8088 28.8568 15.2491 28.8568 15.7635V25.1159C28.8568 25.6303 28.6736 26.0706 28.3073 26.4369C27.941 26.8032 27.5007 26.9864 26.9863 26.9864H12.0225ZM12.0225 13.8931V25.1159H26.9863V15.7635H18.7329L16.8624 13.8931H12.0225Z"
                                  fill="#1C1B1F"
                                />
                              </g>
                            </svg>
                            <input type="file" (change)="onFileSelected($event, i)" accept="*" style="display: none;" #triggerFileInput multiple formControlName="files">
                          </div>
                          <div class="ml-4" *ngIf="selectedFiles[i]">{{selectedFiles[i].name}}</div>
                          <div style="justify-content: flex-end;display: flex;width: 100%;">
                          <span (click)="addNewSet(i)">
                            <i class='pi pi-plus-circle' style="color:#379683;font-size: 20px;"></i>
                        </span > 
                        <span *ngIf="i > 0" (click)="minusNewSet(i)" class="ml-2">
                          <i class='pi pi-minus-circle' style="color:#FF4081;font-size: 20px;"></i>

                      </span> 
                      </div>                                                                        
                    </div>
                </div>
            </div>
            <div class="text-right mt-6">
              <button mat-raised-button mat-button color="primary">Submit</button>
          </div>
            </mat-card>
        </div>
    </div>
</form>
<!-- <button (click)="openCamera()">Open Camera</button>
<video #videoElement width="300" height="300"></video> -->
